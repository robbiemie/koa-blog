
# æ•°æ®åº“æ“ä½œ

```sql
-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“
show databases;
-- åˆ›å»ºæ•°æ®åº“
create database <db_name>
-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®è¡¨
show tables;
-- æŸ¥çœ‹è¡¨ç»“æ„
desc <tb_name>;
-- åˆ›å»ºæ•°æ®è¡¨
create table <tb_name> (
  id int unsigned not null primary key; -- æ— ç¬¦å·æ•´å‹ã€éç©ºã€ä¸»é”®  
  username varchar(45) not null; -- å­—ç¬¦ä¸²ç±»å‹ã€éç©º
);
-- æ–°å¢
insert into <tb_name> (cols1,col2,...) values (val1,val2,...);
-- ç¤ºä¾‹:
insert into users
-> (username,`password`,createtime)
-> values
-> ('root','123',NOW());
-- å…¨æŸ¥è¯¢
select * from <tb_name>;
-- æŸ¥è¯¢
select <col1>,<col2>,... from <tb_name>;
-- ç¤ºä¾‹:
select username,id from users;
-- æ¡ä»¶æŸ¥è¯¢:
select <col1>,<col2>,... from <tb_name> where <col1=val1>,...
-- ç¤ºä¾‹:
select username,id from users where username='root'
-- å¤šæ¡ä»¶æŸ¥è¯¢
select <col1>,<col2>,... from <tb_name> where <col1=val1> and <col2=val2>
select <col1>,<col2>,... from <tb_name> where <col1=val1> or <col2=val2>
-- æ¨¡ç³ŠæŸ¥è¯¢
select <col1>,<col2>,... from <tb_name> where col1 like `%<val1>%`
-- æ’åº
select <col1>,<col2>,... from <tb_name> where <col1=val1> order by id;
-- å€’åº
select <col1>,<col2>,... from <tb_name> where <col1=val1> order by id desc;
-- æ–°å¢ä¸€åˆ—
alter table <tb_name>
-> add column <col3> varchar(45) not null;
-- ä¿®æ”¹å­—æ®µå€¼
update <tb_name> set <col1>=<val_new> where <col2>=<val2>;
-- ä¿®æ”¹å¤šä¸ªå­—æ®µå€¼
update <tb_name> set <col1>=<val_new1>,<col2>=<val_new2> where <col2>=<val2>;
-- ç¤ºä¾‹: 
update users set nickname='æ —å­ğŸŒ°' where id=1;
-- åˆ é™¤
delete from <tb_name> where <col1>=<val1>;
-- ç¤ºä¾‹:
delete from users where id=3;
```

- `nodejs` è¿æ¥æ•°æ®åº“

```js
const mysql = require("mysql")

// åˆ›å»ºè¿æ¥å¯¹è±¡
const connection = mysql.createConnection({
  host: "localhost",
  user: "root",
  password: "",
  port: "3306",
  database: "blog"
})

// å¼€å§‹è¿æ¥
connection.connect()

// æŸ¥è¯¢
const query = 'select `username`,`password` from users;'
connection.query(update,(err,res)=>{
  if(err){
    console.error(err)
    throw err
  }
  console.log('æŸ¥è¯¢æˆåŠŸ', res)
})
// æ›´æ–°
const update = "update users set nickname='è¶…çº§ç®¡ç†å‘˜' where id=1;"
connection.query(update,(err,res)=>{
  if(err){
    console.error(err)
    throw err
  }
  console.log('æ›´æ–°æˆåŠŸ', res)
})
// æ–°å¢
let username = 'test'
let password = 'test'
let createtime = Date.now()
let nickname = 'æµ‹è¯•ç”¨æˆ·'
let values = `'${username}','${password}','${createtime}','${nickname}'`
const create = `insert into users (username,\`password\`,createtime,nickname) values(${values});`
connection.query(create,(err,res)=>{
  if(err){
    console.error(err)
    throw err
  }
  console.log('æ–°å¢æˆåŠŸ', res)
})
// åˆ é™¤
const del = "update users set islock=1 where id=4;"
connection.query(del,(err,res)=>{
  if(err){
    console.error(err)
    throw err
  }
  console.log('æ›´æ–°æˆåŠŸ', res)
})
// å…³é—­è¿æ¥
connection.end()

```
